#!/usr/bin/env python
from nose.tools import *
from elo.calculate import *

def setup():
  players = [{'name': 'A', 'score': 1200},
             {'name': 'B', 'score': 1000}]

def teardown():
  pass

def test_adjustment():
  assert_equal(adjustment(32, 1, 0.75974692664795784), 7.688098347265349)

def test_expectation():
  assert_equal(expectation(1200, 1000), 0.75974692664795784)

def test_won():
  won(0,1)
  assert_equal(players[0]['score'], 1016.0)

def test_addplayer():
  global players

  addplayer('C', 1000)
  assert_true({'name': 'C', 'score': 1000} in players)
